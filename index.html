<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Leaderboards - Home</title>

		<link rel="stylesheet" href="Styles/root.css">
		<link rel="stylesheet" href="Styles/home.css">
	</head>
	<body>
		<main id="content">
			<h1 class="title" id="headerTitle">Home</h1>
			<div class="menu" id="gameList"></div>
		</main>

		<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
		<script src="Scripts/util.js"></script>
		<script src="Scripts/header.js"></script>

		<script>
			const gameList = document.getElementById("gameList")
			function addGame(id, icon, name)
			{
				var a = document.createElement("a")
				a.className = "game"
				a.href = "./leaderboard?game=" + id + "&category=any%"
				a.innerText = name
				
				a.style.backgroundImage = `url('${getIconString(icon)}')`

				gameList.appendChild(a)
			}

			async function load()
			{
				await init()

				loadingTxt.innerText = "Loading Games..."
				for (const [gameID, game] of Object.entries(validGames))
				{
					console.log("Found game! (" + game.gameID + ")")

					addGame(gameID, game.icon, game.gameName)
				}

				loadingTxt.innerText = "Done!"
				document.getElementById("content").className = "fadeOutBlur"
				loadingTxt.style.opacity = 0
			}

			load()
		</script>
	</body>
</html>